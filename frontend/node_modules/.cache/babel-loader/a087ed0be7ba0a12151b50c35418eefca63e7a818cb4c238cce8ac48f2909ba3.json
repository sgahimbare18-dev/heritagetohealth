{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Heritage to Health\\\\frontend\\\\src\\\\components\\\\Chatbot.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useSpeechRecognition, useSpeechSynthesis } from 'react-speech-kit';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Chatbot = () => {\n  _s();\n  const [isOpen, setIsOpen] = useState(false);\n  const [messages, setMessages] = useState([{\n    text: 'ðŸ‘‹ Hello! I\\'m Heritage Guide, your guide from Heritage to Health. We help Maasai women and girls live healthier, more confident lives through menstrual hygiene education and reusable pad training. What would you like to learn about today? 1ï¸âƒ£ Reproductive Health Education 2ï¸âƒ£ Reusable Pads 3ï¸âƒ£ Our Community Projects 4ï¸âƒ£ How to Support Us',\n    sender: 'bot'\n  }]);\n  const [input, setInput] = useState('');\n  const {\n    speak,\n    voices\n  } = useSpeechSynthesis();\n  const {\n    transcript,\n    listening,\n    resetTranscript,\n    browserSupportsSpeechRecognition\n  } = useSpeechRecognition({\n    onResult: result => {\n      setInput(result);\n    }\n  });\n  useEffect(() => {\n    if (transcript) {\n      setInput(transcript);\n    }\n  }, [transcript]);\n  const toggleChat = () => setIsOpen(!isOpen);\n  const sendMessage = async (messageText = input) => {\n    if (!messageText.trim()) return;\n    const userMessage = {\n      text: messageText,\n      sender: 'user'\n    };\n    setMessages([...messages, userMessage]);\n    setInput('');\n    resetTranscript();\n    try {\n      const response = await axios.post('http://localhost:5000/api/chat', {\n        message: messageText,\n        userId: 'anonymous'\n      });\n      const botMessage = {\n        text: response.data.reply,\n        sender: 'bot'\n      };\n      setMessages(prev => [...prev, botMessage]);\n\n      // Speak the bot's response\n      const femaleVoice = voices.find(voice => voice.name.includes('Female') || voice.name.includes('Zira') || voice.name.includes('Susan'));\n      speak({\n        text: response.data.reply,\n        voice: femaleVoice || voices[0]\n      });\n    } catch (error) {\n      const errorMessage = {\n        text: 'Sorry, I couldn\\'t respond right now. Please try again later.',\n        sender: 'bot'\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    }\n  };\n  const handleVoiceInput = () => {\n    if (listening) {\n      // Stop listening\n      if (transcript) {\n        sendMessage(transcript);\n      }\n    } else {\n      // Start listening\n    }\n  };\n  if (!browserSupportsSpeechRecognition) {\n    console.warn('Browser does not support speech recognition.');\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed bottom-4 right-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toggleChat,\n      className: \"bg-green-600 text-white p-4 rounded-full shadow-lg hover:bg-green-700 transition-colors\",\n      children: \"\\uD83D\\uDCAC\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute bottom-16 right-0 w-80 h-96 bg-white border rounded-lg shadow-xl flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-green-600 text-white p-4 rounded-t-lg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 p-4 overflow-y-auto\",\n        children: messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `mb-2 ${msg.sender === 'user' ? 'text-right' : 'text-left'}`,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `inline-block p-2 rounded-lg max-w-xs ${msg.sender === 'user' ? 'bg-blue-500 text-white' : 'bg-gray-200 text-gray-800'}`,\n            children: msg.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 17\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: input,\n            onChange: e => setInput(e.target.value),\n            onKeyPress: e => e.key === 'Enter' && sendMessage(),\n            className: \"flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\",\n            placeholder: \"Type your message...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this), browserSupportsSpeechRecognition && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleVoiceInput,\n            className: `ml-2 p-2 rounded-lg ${listening ? 'bg-red-500 text-white' : 'bg-gray-500 text-white'} hover:opacity-80`,\n            title: listening ? 'Stop listening' : 'Start voice input',\n            children: \"\\uD83C\\uDFA4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => sendMessage(),\n          className: \"mt-2 bg-green-600 text-white px-4 py-2 rounded-lg w-full hover:bg-green-700 transition-colors\",\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_s(Chatbot, \"1MPoWy108tFB3n1DJUmpEDmD4uE=\", false, function () {\n  return [useSpeechSynthesis, useSpeechRecognition];\n});\n_c = Chatbot;\nexport default Chatbot;\nvar _c;\n$RefreshReg$(_c, \"Chatbot\");","map":{"version":3,"names":["React","useState","useEffect","axios","useSpeechRecognition","useSpeechSynthesis","jsxDEV","_jsxDEV","Chatbot","_s","isOpen","setIsOpen","messages","setMessages","text","sender","input","setInput","speak","voices","transcript","listening","resetTranscript","browserSupportsSpeechRecognition","onResult","result","toggleChat","sendMessage","messageText","trim","userMessage","response","post","message","userId","botMessage","data","reply","prev","femaleVoice","find","voice","name","includes","error","errorMessage","handleVoiceInput","console","warn","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","msg","index","type","value","onChange","e","target","onKeyPress","key","placeholder","title","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/Heritage to Health/frontend/src/components/Chatbot.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useSpeechRecognition, useSpeechSynthesis } from 'react-speech-kit';\r\n\r\nconst Chatbot = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [messages, setMessages] = useState([\r\n    { text: 'ðŸ‘‹ Hello! I\\'m Heritage Guide, your guide from Heritage to Health. We help Maasai women and girls live healthier, more confident lives through menstrual hygiene education and reusable pad training. What would you like to learn about today? 1ï¸âƒ£ Reproductive Health Education 2ï¸âƒ£ Reusable Pads 3ï¸âƒ£ Our Community Projects 4ï¸âƒ£ How to Support Us', sender: 'bot' }\r\n  ]);\r\n  const [input, setInput] = useState('');\r\n\r\n\r\n  const { speak, voices } = useSpeechSynthesis();\r\n  const {\r\n    transcript,\r\n    listening,\r\n    resetTranscript,\r\n    browserSupportsSpeechRecognition\r\n  } = useSpeechRecognition({\r\n    onResult: (result) => {\r\n      setInput(result);\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (transcript) {\r\n      setInput(transcript);\r\n    }\r\n  }, [transcript]);\r\n\r\n  const toggleChat = () => setIsOpen(!isOpen);\r\n\r\n  const sendMessage = async (messageText = input) => {\r\n    if (!messageText.trim()) return;\r\n    const userMessage = { text: messageText, sender: 'user' };\r\n    setMessages([...messages, userMessage]);\r\n    setInput('');\r\n    resetTranscript();\r\n\r\n    try {\r\n      const response = await axios.post('http://localhost:5000/api/chat', { message: messageText, userId: 'anonymous' });\r\n      const botMessage = { text: response.data.reply, sender: 'bot' };\r\n      setMessages(prev => [...prev, botMessage]);\r\n\r\n      // Speak the bot's response\r\n      const femaleVoice = voices.find(voice => voice.name.includes('Female') || voice.name.includes('Zira') || voice.name.includes('Susan'));\r\n      speak({ text: response.data.reply, voice: femaleVoice || voices[0] });\r\n    } catch (error) {\r\n      const errorMessage = { text: 'Sorry, I couldn\\'t respond right now. Please try again later.', sender: 'bot' };\r\n      setMessages(prev => [...prev, errorMessage]);\r\n    }\r\n  };\r\n\r\n  const handleVoiceInput = () => {\r\n    if (listening) {\r\n      // Stop listening\r\n      if (transcript) {\r\n        sendMessage(transcript);\r\n      }\r\n    } else {\r\n      // Start listening\r\n    }\r\n  };\r\n\r\n  if (!browserSupportsSpeechRecognition) {\r\n    console.warn('Browser does not support speech recognition.');\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed bottom-4 right-4\">\r\n      <button onClick={toggleChat} className=\"bg-green-600 text-white p-4 rounded-full shadow-lg hover:bg-green-700 transition-colors\">\r\n        ðŸ’¬\r\n      </button>\r\n      {isOpen && (\r\n        <div className=\"absolute bottom-16 right-0 w-80 h-96 bg-white border rounded-lg shadow-xl flex flex-col\">\r\n          <div className=\"bg-green-600 text-white p-4 rounded-t-lg\">\r\n          </div>\r\n          <div className=\"flex-1 p-4 overflow-y-auto\">\r\n            {messages.map((msg, index) => (\r\n              <div key={index} className={`mb-2 ${msg.sender === 'user' ? 'text-right' : 'text-left'}`}>\r\n                <span className={`inline-block p-2 rounded-lg max-w-xs ${msg.sender === 'user' ? 'bg-blue-500 text-white' : 'bg-gray-200 text-gray-800'}`}>\r\n                  {msg.text}\r\n                </span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className=\"p-4 border-t\">\r\n            <div className=\"flex mb-2\">\r\n              <input\r\n                type=\"text\"\r\n                value={input}\r\n                onChange={(e) => setInput(e.target.value)}\r\n                onKeyPress={(e) => e.key === 'Enter' && sendMessage()}\r\n                className=\"flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n                placeholder=\"Type your message...\"\r\n              />\r\n              {browserSupportsSpeechRecognition && (\r\n                <button\r\n                  onClick={handleVoiceInput}\r\n                  className={`ml-2 p-2 rounded-lg ${listening ? 'bg-red-500 text-white' : 'bg-gray-500 text-white'} hover:opacity-80`}\r\n                  title={listening ? 'Stop listening' : 'Start voice input'}\r\n                >\r\n                  ðŸŽ¤\r\n                </button>\r\n              )}\r\n            </div>\r\n            <button onClick={() => sendMessage()} className=\"mt-2 bg-green-600 text-white px-4 py-2 rounded-lg w-full hover:bg-green-700 transition-colors\">Send</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chatbot;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}