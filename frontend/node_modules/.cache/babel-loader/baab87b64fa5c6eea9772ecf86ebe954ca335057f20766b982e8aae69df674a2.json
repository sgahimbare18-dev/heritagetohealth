{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import ProgramForm from'./ProgramForm';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProgramList=()=>{const[programs,setPrograms]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[editingProgram,setEditingProgram]=useState(null);const[showForm,setShowForm]=useState(false);useEffect(()=>{fetchPrograms();},[]);const fetchPrograms=async()=>{try{setLoading(true);const response=await axios.get('http://localhost:5000/api/programs');setPrograms(response.data);setError(null);}catch(error){console.error('Error fetching programs:',error);setError('Failed to load programs');}finally{setLoading(false);}};const handleSave=async programData=>{try{if(editingProgram){await axios.put(\"http://localhost:5000/api/programs/\".concat(editingProgram._id),programData);}else{await axios.post('http://localhost:5000/api/programs',programData);}fetchPrograms();setShowForm(false);setEditingProgram(null);}catch(error){console.error('Error saving program:',error);alert('Failed to save program');}};const handleEdit=program=>{setEditingProgram(program);setShowForm(true);};const handleDelete=async id=>{if(window.confirm('Are you sure you want to delete this program?')){try{await axios.delete(\"http://localhost:5000/api/programs/\".concat(id));fetchPrograms();}catch(error){console.error('Error deleting program:',error);alert('Failed to delete program');}}};const handleCancel=()=>{setShowForm(false);setEditingProgram(null);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:\"Loading programs...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-red-600\",children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold\",children:\"Programs Management\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowForm(true),className:\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\",children:\"Add New Program\"})]}),showForm&&/*#__PURE__*/_jsx(ProgramForm,{program:editingProgram,onSave:handleSave,onCancel:handleCancel}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",children:programs.map(program=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg shadow-md border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[program.image&&/*#__PURE__*/_jsx(\"img\",{src:program.image,alt:program.title,className:\"w-16 h-16 rounded-full object-cover\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:program.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:program.description}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center mt-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(program.published?'bg-green-100 text-green-800':'bg-gray-100 text-gray-800'),children:program.published?'Published':'Draft'})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(program),className:\"px-3 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(program._id),className:\"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600\",children:\"Delete\"})]})]})},program._id))}),programs.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"No programs found. Click \\\"Add New Program\\\" to create your first program.\"})]});};export default ProgramList;","map":{"version":3,"names":["React","useState","useEffect","axios","ProgramForm","jsx","_jsx","jsxs","_jsxs","ProgramList","programs","setPrograms","loading","setLoading","error","setError","editingProgram","setEditingProgram","showForm","setShowForm","fetchPrograms","response","get","data","console","handleSave","programData","put","concat","_id","post","alert","handleEdit","program","handleDelete","id","window","confirm","delete","handleCancel","className","children","onClick","onSave","onCancel","map","image","src","alt","title","description","published","length"],"sources":["C:/Users/Admin/Desktop/Heritage to Health/frontend/src/components/ProgramList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport ProgramForm from './ProgramForm';\r\n\r\nconst ProgramList = () => {\r\n  const [programs, setPrograms] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [editingProgram, setEditingProgram] = useState(null);\r\n  const [showForm, setShowForm] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchPrograms();\r\n  }, []);\r\n\r\n  const fetchPrograms = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await axios.get('http://localhost:5000/api/programs');\r\n      setPrograms(response.data);\r\n      setError(null);\r\n    } catch (error) {\r\n      console.error('Error fetching programs:', error);\r\n      setError('Failed to load programs');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async (programData) => {\r\n    try {\r\n      if (editingProgram) {\r\n        await axios.put(`http://localhost:5000/api/programs/${editingProgram._id}`, programData);\r\n      } else {\r\n        await axios.post('http://localhost:5000/api/programs', programData);\r\n      }\r\n      fetchPrograms();\r\n      setShowForm(false);\r\n      setEditingProgram(null);\r\n    } catch (error) {\r\n      console.error('Error saving program:', error);\r\n      alert('Failed to save program');\r\n    }\r\n  };\r\n\r\n  const handleEdit = (program) => {\r\n    setEditingProgram(program);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm('Are you sure you want to delete this program?')) {\r\n      try {\r\n        await axios.delete(`http://localhost:5000/api/programs/${id}`);\r\n        fetchPrograms();\r\n      } catch (error) {\r\n        console.error('Error deleting program:', error);\r\n        alert('Failed to delete program');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setShowForm(false);\r\n    setEditingProgram(null);\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"text-center py-8\">Loading programs...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"text-center py-8 text-red-600\">{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h2 className=\"text-2xl font-bold\">Programs Management</h2>\r\n        <button\r\n          onClick={() => setShowForm(true)}\r\n          className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\r\n        >\r\n          Add New Program\r\n        </button>\r\n      </div>\r\n\r\n      {showForm && (\r\n        <ProgramForm\r\n          program={editingProgram}\r\n          onSave={handleSave}\r\n          onCancel={handleCancel}\r\n        />\r\n      )}\r\n\r\n      <div className=\"grid gap-4\">\r\n        {programs.map((program) => (\r\n          <div key={program._id} className=\"bg-white p-4 rounded-lg shadow-md border\">\r\n            <div className=\"flex items-start justify-between\">\r\n              <div className=\"flex-1\">\r\n                <div className=\"flex items-center space-x-4\">\r\n                  {program.image && (\r\n                    <img\r\n                      src={program.image}\r\n                      alt={program.title}\r\n                      className=\"w-16 h-16 rounded-full object-cover\"\r\n                    />\r\n                  )}\r\n                  <div>\r\n                    <h3 className=\"text-lg font-semibold\">{program.title}</h3>\r\n                    <p className=\"text-gray-600 text-sm\">{program.description}</p>\r\n                    <div className=\"flex items-center mt-2\">\r\n                      <span className={`px-2 py-1 rounded-full text-xs font-medium ${\r\n                        program.published ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'\r\n                      }`}>\r\n                        {program.published ? 'Published' : 'Draft'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex space-x-2\">\r\n                <button\r\n                  onClick={() => handleEdit(program)}\r\n                  className=\"px-3 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600\"\r\n                >\r\n                  Edit\r\n                </button>\r\n                <button\r\n                  onClick={() => handleDelete(program._id)}\r\n                  className=\"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600\"\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {programs.length === 0 && (\r\n        <div className=\"text-center py-8 text-gray-500\">\r\n          No programs found. Click \"Add New Program\" to create your first program.\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProgramList;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,WAAW,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACe,cAAc,CAAEC,iBAAiB,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAACiB,QAAQ,CAAEC,WAAW,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAE/CC,SAAS,CAAC,IAAM,CACdkB,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACFP,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAQ,QAAQ,CAAG,KAAM,CAAAlB,KAAK,CAACmB,GAAG,CAAC,oCAAoC,CAAC,CACtEX,WAAW,CAACU,QAAQ,CAACE,IAAI,CAAC,CAC1BR,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAE,MAAOD,KAAK,CAAE,CACdU,OAAO,CAACV,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChDC,QAAQ,CAAC,yBAAyB,CAAC,CACrC,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAY,UAAU,CAAG,KAAO,CAAAC,WAAW,EAAK,CACxC,GAAI,CACF,GAAIV,cAAc,CAAE,CAClB,KAAM,CAAAb,KAAK,CAACwB,GAAG,uCAAAC,MAAA,CAAuCZ,cAAc,CAACa,GAAG,EAAIH,WAAW,CAAC,CAC1F,CAAC,IAAM,CACL,KAAM,CAAAvB,KAAK,CAAC2B,IAAI,CAAC,oCAAoC,CAAEJ,WAAW,CAAC,CACrE,CACAN,aAAa,CAAC,CAAC,CACfD,WAAW,CAAC,KAAK,CAAC,CAClBF,iBAAiB,CAAC,IAAI,CAAC,CACzB,CAAE,MAAOH,KAAK,CAAE,CACdU,OAAO,CAACV,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7CiB,KAAK,CAAC,wBAAwB,CAAC,CACjC,CACF,CAAC,CAED,KAAM,CAAAC,UAAU,CAAIC,OAAO,EAAK,CAC9BhB,iBAAiB,CAACgB,OAAO,CAAC,CAC1Bd,WAAW,CAAC,IAAI,CAAC,CACnB,CAAC,CAED,KAAM,CAAAe,YAAY,CAAG,KAAO,CAAAC,EAAE,EAAK,CACjC,GAAIC,MAAM,CAACC,OAAO,CAAC,+CAA+C,CAAC,CAAE,CACnE,GAAI,CACF,KAAM,CAAAlC,KAAK,CAACmC,MAAM,uCAAAV,MAAA,CAAuCO,EAAE,CAAE,CAAC,CAC9Df,aAAa,CAAC,CAAC,CACjB,CAAE,MAAON,KAAK,CAAE,CACdU,OAAO,CAACV,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/CiB,KAAK,CAAC,0BAA0B,CAAC,CACnC,CACF,CACF,CAAC,CAED,KAAM,CAAAQ,YAAY,CAAGA,CAAA,GAAM,CACzBpB,WAAW,CAAC,KAAK,CAAC,CAClBF,iBAAiB,CAAC,IAAI,CAAC,CACzB,CAAC,CAED,GAAIL,OAAO,CAAE,CACX,mBAAON,IAAA,QAAKkC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,qBAAmB,CAAK,CAAC,CACpE,CAEA,GAAI3B,KAAK,CAAE,CACT,mBAAOR,IAAA,QAAKkC,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAE3B,KAAK,CAAM,CAAC,CACrE,CAEA,mBACEN,KAAA,QAAKgC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBjC,KAAA,QAAKgC,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDnC,IAAA,OAAIkC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,cAC3DnC,IAAA,WACEoC,OAAO,CAAEA,CAAA,GAAMvB,WAAW,CAAC,IAAI,CAAE,CACjCqB,SAAS,CAAC,4DAA4D,CAAAC,QAAA,CACvE,iBAED,CAAQ,CAAC,EACN,CAAC,CAELvB,QAAQ,eACPZ,IAAA,CAACF,WAAW,EACV6B,OAAO,CAAEjB,cAAe,CACxB2B,MAAM,CAAElB,UAAW,CACnBmB,QAAQ,CAAEL,YAAa,CACxB,CACF,cAEDjC,IAAA,QAAKkC,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxB/B,QAAQ,CAACmC,GAAG,CAAEZ,OAAO,eACpB3B,IAAA,QAAuBkC,SAAS,CAAC,0CAA0C,CAAAC,QAAA,cACzEjC,KAAA,QAAKgC,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/CnC,IAAA,QAAKkC,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACrBjC,KAAA,QAAKgC,SAAS,CAAC,6BAA6B,CAAAC,QAAA,EACzCR,OAAO,CAACa,KAAK,eACZxC,IAAA,QACEyC,GAAG,CAAEd,OAAO,CAACa,KAAM,CACnBE,GAAG,CAAEf,OAAO,CAACgB,KAAM,CACnBT,SAAS,CAAC,qCAAqC,CAChD,CACF,cACDhC,KAAA,QAAAiC,QAAA,eACEnC,IAAA,OAAIkC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAER,OAAO,CAACgB,KAAK,CAAK,CAAC,cAC1D3C,IAAA,MAAGkC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAER,OAAO,CAACiB,WAAW,CAAI,CAAC,cAC9D5C,IAAA,QAAKkC,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACrCnC,IAAA,SAAMkC,SAAS,+CAAAZ,MAAA,CACbK,OAAO,CAACkB,SAAS,CAAG,6BAA6B,CAAG,2BAA2B,CAC9E,CAAAV,QAAA,CACAR,OAAO,CAACkB,SAAS,CAAG,WAAW,CAAG,OAAO,CACtC,CAAC,CACJ,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,cACN3C,KAAA,QAAKgC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BnC,IAAA,WACEoC,OAAO,CAAEA,CAAA,GAAMV,UAAU,CAACC,OAAO,CAAE,CACnCO,SAAS,CAAC,gEAAgE,CAAAC,QAAA,CAC3E,MAED,CAAQ,CAAC,cACTnC,IAAA,WACEoC,OAAO,CAAEA,CAAA,GAAMR,YAAY,CAACD,OAAO,CAACJ,GAAG,CAAE,CACzCW,SAAS,CAAC,0DAA0D,CAAAC,QAAA,CACrE,QAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,EAtCER,OAAO,CAACJ,GAuCb,CACN,CAAC,CACC,CAAC,CAELnB,QAAQ,CAAC0C,MAAM,GAAK,CAAC,eACpB9C,IAAA,QAAKkC,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,4EAEhD,CAAK,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhC,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}