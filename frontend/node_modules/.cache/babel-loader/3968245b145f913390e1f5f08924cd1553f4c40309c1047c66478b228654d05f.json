{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import ImpactForm from'./ImpactForm';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ImpactList=()=>{const[impacts,setImpacts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[editingImpact,setEditingImpact]=useState(null);const[showForm,setShowForm]=useState(false);useEffect(()=>{fetchImpacts();},[]);const fetchImpacts=async()=>{try{setLoading(true);const response=await axios.get('http://localhost:5000/api/impacts');setImpacts(response.data);setError(null);}catch(error){console.error('Error fetching impacts:',error);setError('Failed to load impacts');}finally{setLoading(false);}};const handleSave=async impactData=>{try{if(editingImpact){await axios.put(\"http://localhost:5000/api/impacts/\".concat(editingImpact._id),impactData);}else{await axios.post('http://localhost:5000/api/impacts',impactData);}fetchImpacts();setShowForm(false);setEditingImpact(null);}catch(error){console.error('Error saving impact:',error);alert('Failed to save impact');}};const handleEdit=impact=>{setEditingImpact(impact);setShowForm(true);};const handleDelete=async id=>{if(window.confirm('Are you sure you want to delete this impact?')){try{await axios.delete(\"http://localhost:5000/api/impacts/\".concat(id));fetchImpacts();}catch(error){console.error('Error deleting impact:',error);alert('Failed to delete impact');}}};const handleCancel=()=>{setShowForm(false);setEditingImpact(null);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:\"Loading impacts...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-red-600\",children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold\",children:\"Impacts Management\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowForm(true),className:\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\",children:\"Add New Impact\"})]}),showForm&&/*#__PURE__*/_jsx(ImpactForm,{impact:editingImpact,onSave:handleSave,onCancel:handleCancel}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",children:impacts.map(impact=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg shadow-md border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:impact.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-600\",children:impact.value}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:impact.description}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center mt-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(impact.published?'bg-green-100 text-green-800':'bg-gray-100 text-gray-800'),children:impact.published?'Published':'Draft'})})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(impact),className:\"px-3 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(impact._id),className:\"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600\",children:\"Delete\"})]})]})},impact._id))}),impacts.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"No impacts found. Click \\\"Add New Impact\\\" to create your first impact.\"})]});};export default ImpactList;","map":{"version":3,"names":["React","useState","useEffect","axios","ImpactForm","jsx","_jsx","jsxs","_jsxs","ImpactList","impacts","setImpacts","loading","setLoading","error","setError","editingImpact","setEditingImpact","showForm","setShowForm","fetchImpacts","response","get","data","console","handleSave","impactData","put","concat","_id","post","alert","handleEdit","impact","handleDelete","id","window","confirm","delete","handleCancel","className","children","onClick","onSave","onCancel","map","title","value","description","published","length"],"sources":["C:/Users/Admin/Desktop/Heritage to Health/frontend/src/components/ImpactList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport ImpactForm from './ImpactForm';\r\n\r\nconst ImpactList = () => {\r\n  const [impacts, setImpacts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [editingImpact, setEditingImpact] = useState(null);\r\n  const [showForm, setShowForm] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchImpacts();\r\n  }, []);\r\n\r\n  const fetchImpacts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await axios.get('http://localhost:5000/api/impacts');\r\n      setImpacts(response.data);\r\n      setError(null);\r\n    } catch (error) {\r\n      console.error('Error fetching impacts:', error);\r\n      setError('Failed to load impacts');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async (impactData) => {\r\n    try {\r\n      if (editingImpact) {\r\n        await axios.put(`http://localhost:5000/api/impacts/${editingImpact._id}`, impactData);\r\n      } else {\r\n        await axios.post('http://localhost:5000/api/impacts', impactData);\r\n      }\r\n      fetchImpacts();\r\n      setShowForm(false);\r\n      setEditingImpact(null);\r\n    } catch (error) {\r\n      console.error('Error saving impact:', error);\r\n      alert('Failed to save impact');\r\n    }\r\n  };\r\n\r\n  const handleEdit = (impact) => {\r\n    setEditingImpact(impact);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm('Are you sure you want to delete this impact?')) {\r\n      try {\r\n        await axios.delete(`http://localhost:5000/api/impacts/${id}`);\r\n        fetchImpacts();\r\n      } catch (error) {\r\n        console.error('Error deleting impact:', error);\r\n        alert('Failed to delete impact');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setShowForm(false);\r\n    setEditingImpact(null);\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"text-center py-8\">Loading impacts...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"text-center py-8 text-red-600\">{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h2 className=\"text-2xl font-bold\">Impacts Management</h2>\r\n        <button\r\n          onClick={() => setShowForm(true)}\r\n          className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\r\n        >\r\n          Add New Impact\r\n        </button>\r\n      </div>\r\n\r\n      {showForm && (\r\n        <ImpactForm\r\n          impact={editingImpact}\r\n          onSave={handleSave}\r\n          onCancel={handleCancel}\r\n        />\r\n      )}\r\n\r\n      <div className=\"grid gap-4\">\r\n        {impacts.map((impact) => (\r\n          <div key={impact._id} className=\"bg-white p-4 rounded-lg shadow-md border\">\r\n            <div className=\"flex items-start justify-between\">\r\n              <div className=\"flex-1\">\r\n                <div className=\"flex items-center space-x-4\">\r\n                  <div>\r\n                    <h3 className=\"text-lg font-semibold\">{impact.title}</h3>\r\n                    <p className=\"text-2xl font-bold text-green-600\">{impact.value}</p>\r\n                    <p className=\"text-gray-600 text-sm\">{impact.description}</p>\r\n                    <div className=\"flex items-center mt-2\">\r\n                      <span className={`px-2 py-1 rounded-full text-xs font-medium ${\r\n                        impact.published ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'\r\n                      }`}>\r\n                        {impact.published ? 'Published' : 'Draft'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex space-x-2\">\r\n                <button\r\n                  onClick={() => handleEdit(impact)}\r\n                  className=\"px-3 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600\"\r\n                >\r\n                  Edit\r\n                </button>\r\n                <button\r\n                  onClick={() => handleDelete(impact._id)}\r\n                  className=\"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600\"\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {impacts.length === 0 && (\r\n        <div className=\"text-center py-8 text-gray-500\">\r\n          No impacts found. Click \"Add New Impact\" to create your first impact.\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImpactList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}